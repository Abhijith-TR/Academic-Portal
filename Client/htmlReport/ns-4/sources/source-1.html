


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > Admin</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.abhijith.users</a>
</div>

<h1>Coverage Summary for Class: Admin (org.abhijith.users)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">Admin</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (19/19)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    97.7%
  </span>
  <span class="absValue">
    (173/177)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package org.abhijith.users;
&nbsp;
&nbsp;import org.abhijith.dal.PostgresAdminDAO;
&nbsp;import org.abhijith.daoInterfaces.AdminDAO;
&nbsp;import org.abhijith.utils.Utils;
&nbsp;
&nbsp;import java.io.*;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.Arrays;
&nbsp;import java.util.HashMap;
&nbsp;import java.util.Properties;
&nbsp;
&nbsp;public class Admin extends User {
&nbsp;    private AdminDAO adminDAO;
&nbsp;
&nbsp;    public Admin( String name ) {
<b class="fc">&nbsp;        super( name );</b>
&nbsp;        try {
<b class="fc">&nbsp;            Properties  databaseConfig = new Properties();</b>
<b class="fc">&nbsp;            ClassLoader classLoader    = Admin.class.getClassLoader();</b>
<b class="fc">&nbsp;            InputStream inputStream    = classLoader.getResourceAsStream( &quot;config.properties&quot; );</b>
<b class="fc">&nbsp;            databaseConfig.load( inputStream );</b>
&nbsp;
<b class="fc">&nbsp;            String connectionURL = databaseConfig.getProperty( &quot;admin.connectionURL&quot; );</b>
<b class="fc">&nbsp;            String username      = databaseConfig.getProperty( &quot;admin.username&quot; );</b>
<b class="fc">&nbsp;            String password      = databaseConfig.getProperty( &quot;admin.password&quot; );</b>
<b class="fc">&nbsp;            this.adminDAO = new PostgresAdminDAO(</b>
&nbsp;                    connectionURL,
&nbsp;                    username,
&nbsp;                    password
&nbsp;            );
<b class="fc">&nbsp;            super.setCommonDAO( adminDAO );</b>
<b class="nc">&nbsp;        } catch ( Exception error ) {</b>
<b class="nc">&nbsp;            System.out.println( &quot;Could not connect to database&quot; );</b>
<b class="fc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setAdminDAO( AdminDAO adminDAO ) {
<b class="fc">&nbsp;        this.adminDAO = adminDAO;</b>
&nbsp;    }
&nbsp;
&nbsp;    public String[][] getGradesOfOffering( String courseCode, int year, int semester, String departmentID ) {
<b class="fc">&nbsp;        if ( courseCode == null || year &lt; 0 || semester &lt;= 0 || departmentID == null ) return new String[][]{};</b>
<b class="fc">&nbsp;        return adminDAO.getGradesOfCourse( courseCode, year, semester, departmentID );</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean insertStudent( String entryNumber, String name, String departmentID, int batch ) {
<b class="fc">&nbsp;        if ( entryNumber == null || name == null || departmentID == null || batch &lt; 0 ) return false;</b>
<b class="fc">&nbsp;        return adminDAO.insertStudent( entryNumber, name, departmentID, batch );</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean insertFaculty( String facultyID, String name, String departmentID ) {
<b class="fc">&nbsp;        if ( facultyID == null || name == null || departmentID == null ) return false;</b>
<b class="fc">&nbsp;        return adminDAO.insertFaculty( facultyID, name, departmentID );</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean insertCourseIntoCatalog( String courseCode, String courseTitle, double[] creditStructure, String[] prerequisites ) {
<b class="fc">&nbsp;        if ( courseCode == null || courseTitle == null || creditStructure == null || prerequisites == null )</b>
<b class="fc">&nbsp;            return false;</b>
<b class="fc">&nbsp;        boolean allPrerequisitesFound = adminDAO.checkAllPrerequisites( prerequisites );</b>
<b class="fc">&nbsp;        if ( !allPrerequisitesFound ) return false;</b>
<b class="fc">&nbsp;        return adminDAO.insertCourse( courseCode, courseTitle, creditStructure, prerequisites );</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean dropCourseFromCatalog( String courseCode ) {
<b class="fc">&nbsp;        if ( courseCode == null ) return false;</b>
<b class="fc">&nbsp;        return adminDAO.dropCourseFromCatalog( courseCode );</b>
&nbsp;    }
&nbsp;
&nbsp;    public String[][][] getGradesOfStudent( String entryNumber ) {
<b class="fc">&nbsp;        if ( entryNumber == null ) return new String[][][]{};</b>
&nbsp;
<b class="fc">&nbsp;        ArrayList&lt;String[][]&gt; completeStudentRecords = new ArrayList&lt;&gt;();</b>
<b class="fc">&nbsp;        int[]                 currentAcademicSession = adminDAO.getCurrentAcademicSession();</b>
<b class="fc">&nbsp;        int                   studentBatch           = adminDAO.getBatch( entryNumber );</b>
<b class="fc">&nbsp;        if ( studentBatch == -1 ) return new String[][][]{};</b>
&nbsp;
<b class="fc">&nbsp;        int currentYear     = currentAcademicSession[0];</b>
<b class="fc">&nbsp;        int currentSemester = currentAcademicSession[1];</b>
&nbsp;
<b class="fc">&nbsp;        for ( int year = studentBatch; year &lt;= currentYear; year++ ) {</b>
<b class="fc">&nbsp;            for ( int semester = 1; semester &lt;= 2; semester++ ) {</b>
<b class="fc">&nbsp;                String[][] semesterRecords = adminDAO.getStudentGradesForSemester( entryNumber, year, semester );</b>
<b class="fc">&nbsp;                completeStudentRecords.add( semesterRecords );</b>
<b class="fc">&nbsp;                if ( year == currentYear &amp;&amp; semester == currentSemester ) break;</b>
&nbsp;            }
&nbsp;        }
<b class="fc">&nbsp;        return completeStudentRecords.toArray( new String[completeStudentRecords.size()][][] );</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean createBatch( int batchYear, double[] creditRequirements ) {
<b class="fc">&nbsp;        if ( batchYear &lt; 0 || creditRequirements == null ) return false;</b>
<b class="fc">&nbsp;        boolean createBatchStatus = adminDAO.createBatch( batchYear );</b>
<b class="fc">&nbsp;        if ( !createBatchStatus ) return false;</b>
<b class="fc">&nbsp;        return adminDAO.createCurriculum( batchYear, creditRequirements );</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean insertCoreCourses( int batch, BufferedReader courseCSVFile ) {
&nbsp;        try {
<b class="fc">&nbsp;            if ( batch &lt; 0 || courseCSVFile == null ) return false;</b>
&nbsp;
<b class="fc">&nbsp;            boolean isCoreListRemoved = adminDAO.resetCoreCoursesList( batch );</b>
<b class="fc">&nbsp;            if ( !isCoreListRemoved ) return false;</b>
<b class="fc">&nbsp;            boolean coursesInserted = true;</b>
&nbsp;
&nbsp;            String courseRecord;
<b class="fc">&nbsp;            while ( ( courseRecord = courseCSVFile.readLine() ) != null ) {</b>
<b class="fc">&nbsp;                String[] lineContents    = courseRecord.split( &quot;,&quot; );</b>
<b class="fc">&nbsp;                String   courseCode      = lineContents[0];</b>
<b class="fc">&nbsp;                String   courseCategory  = lineContents[1];</b>
<b class="fc">&nbsp;                String[] departmentCodes = Arrays.copyOfRange( lineContents, 2, lineContents.length );</b>
<b class="fc">&nbsp;                boolean  courseExists    = adminDAO.checkCourseCatalog( courseCode );</b>
<b class="fc">&nbsp;                if ( !courseExists ) return false;</b>
<b class="fc">&nbsp;                coursesInserted &amp;= adminDAO.insertCoreCourse( courseCode, departmentCodes, batch, courseCategory );</b>
<b class="fc">&nbsp;            }</b>
<b class="fc">&nbsp;            return coursesInserted;</b>
<b class="fc">&nbsp;        } catch ( Exception error ) {</b>
<b class="fc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public boolean checkStudentPassStatus( String entryNumber ) {
<b class="fc">&nbsp;        if ( entryNumber == null ) return false;</b>
&nbsp;
&nbsp;        // Check if the entry number that has been entered exists in the database.
&nbsp;        // This is done because the hashmap operation is expensive
<b class="fc">&nbsp;        boolean isEntryNumberValid = adminDAO.findEntryNumber( entryNumber );</b>
<b class="fc">&nbsp;        if ( !isEntryNumberValid ) return false;</b>
&nbsp;
&nbsp;        // We check if the student has credited all the core courses he should have done
<b class="fc">&nbsp;        int batch = adminDAO.getBatch( entryNumber );</b>
<b class="fc">&nbsp;        if ( batch == -1 ) return false;</b>
&nbsp;
<b class="fc">&nbsp;        String studentDepartment = adminDAO.getStudentDepartment( entryNumber );</b>
<b class="fc">&nbsp;        if ( studentDepartment.equals( &quot;&quot; ) ) return false;</b>
&nbsp;
<b class="fc">&nbsp;        String[] listOfCoreCourses = adminDAO.getCoreCourses( batch, studentDepartment );</b>
<b class="fc">&nbsp;        if ( listOfCoreCourses == null ) return false;</b>
&nbsp;
&nbsp;        // Iterate through all the courses and verify that the student has passed all the courses
<b class="fc">&nbsp;        for ( String courseCode : listOfCoreCourses ) {</b>
<b class="fc">&nbsp;            String grade = adminDAO.getCourseGrade( entryNumber, courseCode );</b>
<b class="fc">&nbsp;            if ( Utils.getGradeValue( grade ) &lt; 4 ) {</b>
<b class="fc">&nbsp;                return false;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        // Get the credit requirements that are left for this particular student
<b class="fc">&nbsp;        HashMap&lt;String, Double&gt; creditsLeft = getRemainingCreditRequirements( entryNumber );</b>
<b class="fc">&nbsp;        if ( creditsLeft == null ) return false;</b>
&nbsp;
&nbsp;        // Iterate through the UG curriculum requirements left. If all entries are 0, the student is eligible to pass
<b class="fc">&nbsp;        for ( String category : creditsLeft.keySet() ) {</b>
<b class="fc">&nbsp;            if ( Double.compare( creditsLeft.get( category ), 0.0 ) != 0 ) return false;</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
&nbsp;        // If the student is valid, and he has done all the credits, he is eligible to pass
<b class="fc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    private HashMap&lt;String, Double&gt; getRemainingCreditRequirements( String entryNumber ) {
&nbsp;        // Get the batch of the student and retrieve the UG curriculum of the corresponding batch
<b class="fc">&nbsp;        int                     batch        = adminDAO.getBatch( entryNumber );</b>
<b class="fc">&nbsp;        HashMap&lt;String, Double&gt; ugCurriculum = adminDAO.getUGCurriculum( batch );</b>
<b class="fc">&nbsp;        if ( ugCurriculum == null ) return null;</b>
&nbsp;
&nbsp;        // Now we have to fetch the course categories and the corresponding credits done by the student
<b class="fc">&nbsp;        HashMap&lt;String, Double&gt; categoryCreditsCompleted = adminDAO.getCreditsInAllCategories( entryNumber );</b>
<b class="fc">&nbsp;        if ( categoryCreditsCompleted == null ) return null;</b>
&nbsp;
<b class="fc">&nbsp;        HashMap&lt;String, Double&gt; categoryCreditsLeft = new HashMap&lt;&gt;();</b>
&nbsp;
&nbsp;        // Additional credits in any category will count towards the open electives section
<b class="fc">&nbsp;        double additionalCredits = 0;</b>
<b class="fc">&nbsp;        for ( String category : ugCurriculum.keySet() ) {</b>
<b class="fc">&nbsp;            if ( categoryCreditsCompleted.containsKey( category ) ) {</b>
<b class="fc">&nbsp;                double creditsNeeded    = ugCurriculum.get( category );</b>
<b class="fc">&nbsp;                double creditsCompleted = categoryCreditsCompleted.get( category );</b>
&nbsp;
&nbsp;                // If student has done fewer credits than necessary, return false
<b class="fc">&nbsp;                if ( creditsNeeded &gt; creditsCompleted ) {</b>
<b class="fc">&nbsp;                    categoryCreditsLeft.put( category, creditsNeeded - creditsCompleted );</b>
&nbsp;                }
&nbsp;                // If student has done more credits than necessary, those can be used for open electives
&nbsp;                else {
<b class="fc">&nbsp;                    categoryCreditsLeft.put( category, 0.0 );</b>
<b class="fc">&nbsp;                    additionalCredits += creditsCompleted - creditsNeeded;</b>
&nbsp;                }
<b class="fc">&nbsp;            }</b>
&nbsp;            else {
<b class="fc">&nbsp;                categoryCreditsLeft.put( category, ugCurriculum.get( category ) );</b>
&nbsp;            }
<b class="fc">&nbsp;        }</b>
&nbsp;
&nbsp;        // Now we have to get open elective requirements to 0 if required
<b class="fc">&nbsp;        if ( categoryCreditsLeft.containsKey( &quot;OE&quot; ) ) {</b>
<b class="fc">&nbsp;            double creditsLeft = categoryCreditsLeft.get( &quot;OE&quot; );</b>
<b class="fc">&nbsp;            categoryCreditsLeft.put( &quot;OE&quot;, Math.max( creditsLeft - additionalCredits, 0.0 ) );</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        return categoryCreditsLeft;</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean generateTranscripts( int batch, String department ) {
&nbsp;        try {
<b class="fc">&nbsp;            if ( batch &lt; 0 || department == null ) return false;</b>
&nbsp;
&nbsp;            // If the batch does not exist no students will be returned by the function and so no records will be generated
<b class="fc">&nbsp;            String[] listOfStudents = adminDAO.getListOfStudentsInBatch( batch, department );</b>
<b class="fc">&nbsp;            if ( listOfStudents == null ) return false;</b>
&nbsp;
&nbsp;            // Create the directory where all the records will be stored
<b class="fc">&nbsp;            String directoryName = &quot;./&quot; + batch + &quot;-&quot; + department;</b>
<b class="fc">&nbsp;            new File( directoryName ).mkdirs();</b>
&nbsp;
&nbsp;            // Iterate through the list of students and generate the transcript for each student
<b class="fc">&nbsp;            for ( String entryNumber : listOfStudents ) {</b>
<b class="fc">&nbsp;                String[][][] records = getGradesOfStudent( entryNumber );</b>
&nbsp;
&nbsp;                // Create a new file to store all the records of the student
<b class="fc">&nbsp;                String fileName       = entryNumber + &quot;.txt&quot;;</b>
<b class="fc">&nbsp;                File   transcriptFile = new File( directoryName + &quot;/&quot; + fileName );</b>
&nbsp;
&nbsp;                // Create a PrintWriter to write into the newly created file
<b class="fc">&nbsp;                PrintWriter fileWriter = new PrintWriter( transcriptFile );</b>
&nbsp;
&nbsp;                // Write the heading into the file
<b class="fc">&nbsp;                writeHeading( fileWriter, entryNumber );</b>
&nbsp;
&nbsp;                // Write the records into the file
<b class="fc">&nbsp;                int year     = batch;</b>
<b class="fc">&nbsp;                int semester = 1;</b>
&nbsp;
&nbsp;                // Set the headings of each record in the file
<b class="fc">&nbsp;                String[] headings = new String[]{ &quot;Course Code&quot;, &quot;Course Title&quot;, &quot;Grade&quot;, &quot;Credits Earned&quot; };</b>
&nbsp;
&nbsp;                // Print the records of every semester into the file
<b class="fc">&nbsp;                for ( String[][] record : records ) {</b>
<b class="fc">&nbsp;                    writeRecordsIntoFile( headings, record, year, semester, fileWriter );</b>
<b class="fc">&nbsp;                    if ( semester == 2 ) year++;</b>
<b class="fc">&nbsp;                    semester = ( semester == 1 ) ? 2 : 1;</b>
&nbsp;                }
&nbsp;
&nbsp;                // The CGPA of the student will be mentioned at the end
<b class="fc">&nbsp;                fileWriter.printf( &quot;CGPA: %.2f&quot;, getCGPA( records ) );</b>
&nbsp;
&nbsp;                // If the student is eligible for graduation, then there is no need to mention anything in the transcript
<b class="fc">&nbsp;                if ( !checkStudentPassStatus( entryNumber ) ) fileWriter.printf( &quot;INELIGIBLE FOR GRADUATION\n&quot; );</b>
&nbsp;
&nbsp;                // Close the fileWriter object after use to prevent locking issues
<b class="fc">&nbsp;                fileWriter.close();</b>
&nbsp;            }
&nbsp;
&nbsp;            // Return true once all the students have been processed
<b class="fc">&nbsp;            return true;</b>
<b class="nc">&nbsp;        } catch ( Exception error ) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public boolean startNewSession() {
&nbsp;        // Get the current academic session
<b class="fc">&nbsp;        int[] currentSession  = adminDAO.getCurrentAcademicSession();</b>
<b class="fc">&nbsp;        int   currentYear     = currentSession[0];</b>
<b class="fc">&nbsp;        int   currentSemester = currentSession[1];</b>
&nbsp;
&nbsp;        // Check if this particular session is in the completed stage
<b class="fc">&nbsp;        boolean isPreviousSessionOver = adminDAO.checkIfSessionCompleted( currentYear, currentSemester );</b>
<b class="fc">&nbsp;        if ( !isPreviousSessionOver ) return false;</b>
&nbsp;
&nbsp;        // If the previous session is over, we just create the new session in the database
<b class="fc">&nbsp;        int newYear     = ( currentSemester == 2 ) ? currentYear + 1 : currentYear;</b>
<b class="fc">&nbsp;        int newSemester = ( currentSemester == 1 ) ? 2 : 1;</b>
<b class="fc">&nbsp;        return adminDAO.createNewSession( newYear, newSemester );</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean setCurrentSessionStatus( String event ) {
&nbsp;        // Get the current academic session
<b class="fc">&nbsp;        int[] currentSession  = adminDAO.getCurrentAcademicSession();</b>
<b class="fc">&nbsp;        int   currentYear     = currentSession[0];</b>
<b class="fc">&nbsp;        int   currentSemester = currentSession[1];</b>
&nbsp;
&nbsp;        // If the event is &quot;COMPLETED&quot; we have to verify that all students have been assigned grades in the previous session
<b class="fc">&nbsp;        if ( event.equals( &quot;COMPLETED&quot; ) ) {</b>
<b class="fc">&nbsp;            boolean allGradesEntered = adminDAO.verifyNoMissingGrades( currentYear, currentSemester );</b>
<b class="fc">&nbsp;            if ( !allGradesEntered ) return false;</b>
&nbsp;        }
&nbsp;
&nbsp;        // Set the status in the database
<b class="fc">&nbsp;        return adminDAO.setSessionEvent( event, currentYear, currentSemester );</b>
&nbsp;    }
&nbsp;
&nbsp;    private double computeSGPA( String[][] records ) {
<b class="fc">&nbsp;        double totalCredits  = 0;</b>
<b class="fc">&nbsp;        double creditsEarned = 0;</b>
&nbsp;
&nbsp;        // Iterate through all the records of the student and calculate the SGPA.
<b class="fc">&nbsp;        for ( String[] record : records ) {</b>
<b class="fc">&nbsp;            double credits             = Double.parseDouble( record[3] );</b>
<b class="fc">&nbsp;            double numericalGradeValue = Utils.getGradeValue( record[2] );</b>
&nbsp;
&nbsp;            // The SGPA takes into account courses even if you have not passed them
<b class="fc">&nbsp;            totalCredits += credits;</b>
<b class="fc">&nbsp;            creditsEarned += ( numericalGradeValue ) / 10 * credits;</b>
&nbsp;        }
&nbsp;
&nbsp;        // If the student has not done any courses, simply return 0
<b class="fc">&nbsp;        if ( totalCredits == 0 ) return 0;</b>
<b class="fc">&nbsp;        return creditsEarned / totalCredits * 10;</b>
&nbsp;    }
&nbsp;
&nbsp;    private void writeRecordsIntoFile( String[] headings, String[][] records, int year, int semester, PrintWriter fileWriter ) {
&nbsp;        // Find out the length of the records
<b class="fc">&nbsp;        int rows = records.length;</b>
<b class="fc">&nbsp;        if ( rows == 0 ) return;</b>
<b class="fc">&nbsp;        fileWriter.println( &quot;Year: &quot; + year + &quot;    Semester: &quot; + semester + &quot;     SGPA: &quot; + computeSGPA( records ) );</b>
<b class="fc">&nbsp;        int   columns            = records[0].length;</b>
<b class="fc">&nbsp;        int[] maximumFieldLength = new int[]{ 15, 60, 10, 10 };</b>
&nbsp;
<b class="fc">&nbsp;        StringBuilder formatString = new StringBuilder();</b>
<b class="fc">&nbsp;        for ( int i = 0; i &lt; columns; i++ ) {</b>
<b class="fc">&nbsp;            formatString.append( &quot;%-&quot; ).append( maximumFieldLength[i] ).append( &quot;s&quot; );</b>
&nbsp;        }
<b class="fc">&nbsp;        formatString.append( &quot;\n&quot; );</b>
&nbsp;
<b class="fc">&nbsp;        fileWriter.format( formatString.toString(), (Object[]) headings );</b>
<b class="fc">&nbsp;        for ( final Object[] rowContent : records ) {</b>
<b class="fc">&nbsp;            fileWriter.format( formatString.toString(), rowContent );</b>
&nbsp;        }
<b class="fc">&nbsp;        fileWriter.println();</b>
&nbsp;    }
&nbsp;
&nbsp;    private void writeHeading( PrintWriter fileWriter, String entryNumber ) {
<b class="fc">&nbsp;        fileWriter.println( &quot;INDIAN INSTITUTE OF TECHNOLOGY, ROPAR&quot; );</b>
<b class="fc">&nbsp;        fileWriter.println( &quot;STUDENT GRADE TRANSCRIPT\n&quot; );</b>
<b class="fc">&nbsp;        fileWriter.println( &quot;Entry Number: &quot; + entryNumber );</b>
<b class="fc">&nbsp;        fileWriter.println();</b>
&nbsp;    }
&nbsp;
&nbsp;    private double getCGPA( String[][][] records ) {
<b class="fc">&nbsp;        double totalCredits  = 0;</b>
<b class="fc">&nbsp;        double creditsEarned = 0;</b>
<b class="fc">&nbsp;        for ( String[][] record : records ) {</b>
<b class="fc">&nbsp;            for ( String[] subjectRecord : record ) {</b>
<b class="fc">&nbsp;                double credits             = Double.parseDouble( subjectRecord[3] );</b>
<b class="fc">&nbsp;                int    numericalGradeValue = Utils.getGradeValue( subjectRecord[2] );</b>
&nbsp;                // E and F grades are not considered in the computation of CGPA
<b class="fc">&nbsp;                if ( numericalGradeValue &lt; 4 ) continue;</b>
<b class="fc">&nbsp;                totalCredits += credits;</b>
<b class="fc">&nbsp;                creditsEarned += ( numericalGradeValue ) / 10.0 * credits;</b>
&nbsp;            }
&nbsp;        }
<b class="fc">&nbsp;        if ( totalCredits == 0 ) return 0;</b>
<b class="fc">&nbsp;        return creditsEarned / totalCredits * 10;</b>
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-02-21 11:47</div>
</div>
</body>
</html>
